name: Build and Deploy Sphinx Docs to GitHub Pages

on:
  push:
    branches: [master]

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  build:
    runs-on: windows-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Setup Python 3.12
        uses: actions/setup-python@v5
        with:
          python-version: '3.12'

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install sphinx furo sphinx-rtd-theme

      - name: Build Sphinx documentation
        working-directory: ./docs
        run: |
          make html
          echo. > build\html\.nojekyll

      - name: Upload pages artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: docs/build/html

  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}

    runs-on: ubuntu-latest
    needs: build

    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4

#```
#
#---
#
### ğŸ” **ê°œì„  ì‚¬í•­ ì„¤ëª…**
#
#### âœ… ì£¼ìš” ë³€ê²½ì 
#- **Windows ê¸°ë°˜ ë¹Œë“œ ì¶”ê°€**
#  - RTDì—ì„œ ì‹¤íŒ¨í•œ ìœˆë„ìš° ì „ìš© ì½”ë“œë„ ë¹Œë“œ ê°€ëŠ¥í•´ì¡Œì–´.
#- **Sphinx ë¬¸ì„œ ìë™ ë¹Œë“œ ì¶”ê°€**
#  - ë¹Œë“œëœ HTMLì„ GitHub Pagesë¡œ ë°”ë¡œ ë°°í¬í•  ìˆ˜ ìˆê²Œ ìë™í™”í–ˆì–´.
#- **`.nojekyll`** íŒŒì¼ ìë™ ìƒì„± ì¶”ê°€
#  - ì •ì  í…Œë§ˆ(sphinx_rtd_theme) ë¬¸ì œ í•´ê²°.
#- **Artifact ì—…ë¡œë“œ ë° ë°°í¬**
#  - GitHubì—ì„œ ê¶Œì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ëª…í™•íˆ ë¶„ë¦¬.
#
#### ğŸš€ GitHub Pages URL ì˜ˆì‹œ
#```
#https://<username>.github.io/<repo-name>/
#```
#
#ì´ì œ ì´ YAML íŒŒì¼ì„ ì‚¬ìš©í•˜ë©´ **ìœˆë„ìš° ì „ìš© ì½”ë“œê°€ ìˆì–´ë„** ë¬¸ì„œ ë¹Œë“œê°€ ì •ìƒ ì‘ë™í•˜ê³ , sphinx_rtd_themeë„ ì˜ ì ìš©ë  ê±°ì•¼!